<style>
  .page { padding: 12px 0; color: #e2e8f0; }
  .page__header { margin-bottom: 18px; }
  .page__header h1 { margin: 0; font-size: 26px; }
  .page__header .lede { margin: 6px 0 0 0; color: #94a3b8; }
  .card { background: #0f172a; border: 1px solid rgba(255,255,255,0.06); border-radius: 14px; padding: 14px 16px; box-shadow: 0 18px 40px rgba(0,0,0,0.35); }
  .table { width: 100%; border-collapse: collapse; margin-top: 8px; }
  .table thead { background: rgba(255,255,255,0.04); }
  .table th, .table td { padding: 10px 12px; text-align: left; border-bottom: 1px solid rgba(255,255,255,0.06); }
  .table th { font-size: 13px; letter-spacing: 0.3px; color: #cbd5e1; text-transform: uppercase; }
  .table tr:last-child td { border-bottom: none; }
  .mono { font-family: "SFMono-Regular", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
  .pill { display: inline-flex; align-items: center; gap: 6px; padding: 6px 10px; border-radius: 999px; font-weight: 700; font-size: 12px; }
  .pill--buy { background: rgba(34,197,94,0.14); color: #4ade80; }
  .pill--sell { background: rgba(239,68,68,0.14); color: #fca5a5; }
  .empty { color: #94a3b8; text-align: center; padding: 16px 0; }
</style>

<div class="page">
  <div class="page__header">
    <div class="eyebrow">Transactions</div>
    <h1>History</h1>
    <p class="lede">Every trade youâ€™ve executed, with cost basis and totals.</p>
  </div>

  <div class="card">
    <% if @transactions.any? %>
      <table class="table">
        <thead>
          <tr>
            <th>Date</th>
            <th>Stock</th>
            <th>Type</th>
            <th>Quantity</th>
            <th>Price</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody>
          <% @transactions.each do |transaction| %>
            <% total = transaction.quantity * transaction.price %>
            <tr>
              <td class="mono"><%= transaction.created_at.strftime("%Y-%m-%d %H:%M") %></td>
              <td class="mono"><%= transaction.stock.symbol %></td>
              <td>
                <% type = transaction.transaction_type.to_s.downcase %>
                <span class="pill <%= type == 'buy' ? 'pill--buy' : 'pill--sell' %>">
                  <%= type.capitalize %>
                </span>
              </td>
              <td><%= transaction.quantity %></td>
              <td><%= number_to_currency(transaction.price) %></td>
              <td class="mono"><%= number_to_currency(total) %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    <% else %>
      <div class="empty">No transactions yet.</div>
    <% end %>
  </div>
</div>
